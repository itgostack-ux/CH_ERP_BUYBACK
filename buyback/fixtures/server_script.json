[
 {
  "allow_guest": 0,
  "api_method": "download_buyback_template",
  "cron_format": null,
  "disabled": 0,
  "docstatus": 0,
  "doctype": "Server Script",
  "doctype_event": "Before Insert",
  "enable_rate_limit": 0,
  "event_frequency": "All",
  "modified": "2026-02-06 11:38:53.883054",
  "module": "BuyBack",
  "name": "Buyback Price Configuration Download Template",
  "rate_limit_count": 5,
  "rate_limit_seconds": 86400,
  "reference_doctype": null,
  "script": "items = frappe.get_all(\n    \"Item\",\n    filters={\"item_group\": \"Mobiles\", \"disabled\": 0},\n    fields=[\"item_code\", \"item_name\"]\n)\n\nrows = [\"item_code,item_name,current_market_price,vendor_price\"]\n\nfor i in items:\n    rows.append(f\"{i.item_code},{i.item_name},0,0\")\n\ncsv_data = \"\\n\".join(rows)\n\nfrappe.response[\"filename\"] = \"buyback_template.csv\"\nfrappe.response[\"filecontent\"] = csv_data\nfrappe.response[\"type\"] = \"download\"\n",
  "script_type": "API"
 }
]